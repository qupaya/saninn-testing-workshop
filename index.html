<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>ü§ì Testing Workshop</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/night.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
		<link rel="stylesheet" href="./own-styles.css">

    <style>
      :root {
        --r-link-color: rgba(252,0,84, 1);
        --r-selection-background-color: rgb(226 0 76); 
        --r-link-color-hover: #ff3f7f;
    /* --r-link-color-dark: #d08a1d;
    --r-link-color-hover: #f3d7ac; */
    /* --r-selection-background-color: #e7ad52; */

        --r-main-font-size: 30px;
        /* --r-heading1-size: 3em;
        --r-heading2-size: 2em;
        --r-heading3-size: 1.6em;
        --r-heading4-size: 1em; */
      }
    </style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

        <section>
          <h1>Testing Workshop</h1>
          <div>üßëüèΩ‚Äçüíª üë©üèª‚Äçüíª üë®üèº‚Äçüíª üë©üèø‚Äçüíª üë©üèº‚Äçüíª üßëüèª‚Äçüíª</div>
        </section>

        <section>
          <h2>Saninn Salas D√≠az</h2>
          <div class="presentation">
            <div class="avatar">
              <img src="images/saninn.jpg" />
            </div>
            <div class="details">
              <p>Senior Software Developer <code class="inline">@</code> qupaya technologies GmbH </p>
              <p ><a class="social-media" href="http://www.twitter.com/SaninnSalas"><img src="images/twitter-badge.png" alt="Follow me on Twitter" class="twitter-badge"/> @SaninnSalas</a></p>

            </div>
          </div>
        </section>
        <section data-auto-animate>
          <h2>Why don't we want tests?</h2>
        </section>
				<section data-auto-animate>
          <h2>Why don't we want tests?</h2>
          <ul>
            <li>Takes the double (or triple) time. <br>
                <small class="fragment">Continually testing that the requirement work without bugs take more time.</small>
            </li>
            <li>It does not prevent bugs.<br>
                <small class="fragment">It prevent to repeat the same bug (regressions!)</small>
            </li>
            <li>Costs more (because developer time is üí∏üí∏) <br>
                <small class="fragment">see 1. + 2. 
                  <span class="fragment"> ( code </span> <span class="fragment">üëâüèº see browser</span> <span class="fragment">üëâüèº code</span> <span class="fragment">üëâüèº see browser 2 times </span> <span class="fragment">üëâüèº  ad infinitum)</span></small>
            </li>
            <li>It is hard, They break all the time! <br>
                <small class="fragment">This workshop! <span class="fragment">(and a lot of practice)</span></small>
            </li>
          </ul>
        </section>

        <section><h2>Tests in our Angular Project</h2></section>
				<section>
          <ul>
            <li>Unit tests &nbsp; üëâüèº &nbsp; jest<br>
                <small>Services, Pure Functions (helpers)</small>
              </li>
            <li>Shallow tests &nbsp; üëâüèº  &nbsp; jest + @testing-library/angular<br>
                <small>Presentation/Dummy Components</small>
              </li>
            <li>End-to-end tests &nbsp; üëâüèº &nbsp;  Cypress<br>
                <small>Libraries, Smart Components, App Components.</small>
              </li>
          </ul>

          <div>
          <small>
            <br>
            Also see: <a href="https://blog.angular-university.io/angular-2-smart-components-vs-presentation-components-whats-the-difference-when-to-use-each-and-why/">
              Smart vs Presentation Components</a>
          </small>
        </div>

        <aside class="notes">
          Tip: Dummy components can also have local provider services
        </aside>
        </section>

        
        <!-- Tip: Dummy components can also have local provider services üòâ -->
        <section data-info="How to Develop With Tests Vertical">

          <section><h2>How to develop with tests?</h2></section>

          <section data-auto-animate><h3>After Development Testing ü§≠</h3></section>
          <section data-auto-animate>
            <h3>After Development Testing ü§≠</h3>
            <ul>
              <li>Tedious.<br>
                <small class="fragment">"My work is done! ü•≥ <span class="fragment">... oh wait...</span> <span class="fragment">I still have to write the tests üò≠".</span></small>
              </li>
              
              <li>Requires double/triple check.<br>
                  <small class="fragment"> We have to write the test, remove the production code, let it fail, restore production code, let it pass.</small>
              </li>

              <li>"I will merge it and test it later"<br>
                <small class="fragment">`Later` is roughly equivalent to 2512 years and 19 seconds.</small> 
              </li>

              <li>Pressure problems -> Manager: "Merge it now and test it later".<br>
                <small class="fragment"> Did I already said how much time `later` equals to?</small> 
              </li>

            </ul>
          </section>

          <section data-auto-animate><h3>Test Driven Development ü•≥</h3>
            #TDD
          </section>
          
          <section data-auto-animate>
            <h3>Test Driven Development ü•≥</h3>
            <div class="no-markers">
              <ul>
                <li>‚úÖ The test are done together with the implementation.</li>
                <li class="fragment">‚úÖ Enables you find errors before they happen.</li>
                <li class="fragment">‚úÖ Enables you to think before code.</li>
                <li class="fragment">‚úÖ Removes repetitive manual checks.</li>
                <li class="fragment">‚úÖ Makes the code future proof.</li>
            </ul>
            </div>
            <div class="fragment">
              <br>
              <hr />

              <h4>Contras</h4>
              <div>
                <ul>
                  <li class="fragment">Hard to start (like going to the gym üí™).</li>
                  <li class="fragment">It takes time until it feels naturally to you.</li>
                  <li class="fragment">You have to take an stand and defend the time they take when given your time estimations.</li>
                </ul>
              </div>
            </div>



          </section>
        </section>

        <section>
          <section><h2>What to test?</h2></section>

          <section data-info="What to test on services">
            <div data-markdown>
              ## Angular Services Testing
                1. Test public APIs function returns.
                1. **Public** state changes.
                1. External fire and forget requests.
            </div>
            
            <hr />
            <div class="fragment-replace-container">
              <div class="fragment fragment-replace-item" data-markdown>
                ```typescript []
                // Service without dependencies
                public save(objectToSave: SomeInterface): void;
                public get(id: number): SomeInterface | null;

                // ----

                test('saved locally', () => {
                  const objectToSave = {
                    id: wantedId,
                    data: 'Hello I am some object'
                  }
                  
                  service.save(objectToSave);

                  const savedObject = service.get(objectToSave.id)
                  expect(savedObject).toEqual(objectToSave);
                });
                ```
              </div>

              <div class="fragment fragment-replace-item" data-markdown>
                ```typescript []
                // Service with dependencies (For example a Backend Service)
                public save(objectToSave: SomeInterface): void;
                public get(id: number): SomeInterface | null;

                // ----

                test('saved locally', () => {
                  const objectToSave = {
                    id: wantedId,
                    data: 'Hello I am some object'
                  }
                  
                  service.save(objectToSave);

                  
                  verify(SomeBackendDependencyMock.save(objectContaining(objectToSave))).once();
                });
                ```
              </div>
            </div> 
          </section>

          <section data-info="What to test on components">
            <div data-markdown>
              ## Dummy Components Testing
                1. Test visible elements.
                1. Test element changes.
                1. External fire and forget requests. (Shallow test)
                1. `@Output` events
            </div>
            
            <hr />
            <div class="fragment-replace-container"> 
              <div class="fragment fade-in-then-out fragment-replace-item" data-markdown>
                ```typescript []
                
                @Component({
                  selector: 'app-test',
                  templateUrl: './test.component.html',
                  styleUrls: ['./test.component.css']
                })
                export class TestComponent  {
                  activeFilter = '';
                
                  @Output() filter = new EventEmitter();
                
                  emit(value: string): void {
                    this.filter.emit(value);
                  }

                  // ...some more code here
                }
                  
                ```
              </div>

              <div class="fragment fade-in-then-out fragment-replace-item" >
                <div class="side-to-side-code-image" data-markdown>
                  <script type="text/template">
                    ```html []
                    <div>
                      Active Filter: {{activeFilter}}
                    </div>

                    <div>
                      <input [(ngModel)]="currentInput"/>
                    </div>

                    <div>
                      <button (click)="emit(currentInput)">
                        Filter Now
                      </button>
                    </div>
                    ```
                    ![Preview](./images/component-test-demo-view-1.png "Title")
                  </script>
                </div>
              </div>

              <div class="fragment fragment-replace-item" data-markdown>
                ```typescript []
                describe('TestComponent', () => {
                  
                  describe('When an active filter exist', () => {

                    test('the active filter should be visible when defined', async () => {
                      const activeFilter = 'Age';
                      await render(TestComponent, {
                        componentProperties: {
                          activeFilter
                        },
                      });
  
                      const activeFilterElement = await screen.getByText(activeFilter);
  
                      expect(activeFilterElement).toBeDefined();
                    });

                  });
                });
                ```
              </div>
            </div> 
          </section>

        </section>

        <section>
          <section><h2>Naming!</h2></section>

          <section>
            <div class="wrong-box">
              <h3>Don't</h3>
                <ul>
                  <li>Use one word descriptions (except for API function names).</li>
                  <li>Be too general (ie "should work").</li>
                  <li>Use too many technical terms (Array, Button, Error, etc)</li>
                </ul>
                <div data-markdown>
                  ```typescript []
                  describe('#Product', () => {
                    test('can be selected');
                  })
                  ```
              </div>
            </div>
  
            
            <div class="fragment correct-box">
              <h3>Do</h3>
              <ul>
                <li>Use specific names for public/api functions while grouping.</li>
                <li>Describe in a non technical way your environment.</li>
                <li>Provide as much context as possible to your fellow developers.</li>
  
                <div data-markdown>
                  ```typescript []
                    describe('#myPublicServiceFunction', () => {})

                    describe('when the resource is selected for deletion', () => {
                      test('is marked with a red tick', () => {});
                      test('their name is added to the "selected resources" box', () => {});
                    });
                  ```
                </div>
              </ul>
            </div>

            <div class="fragment" style="position: absolute; top:0; left: 0; width:100%; height: 100%; background: rgb(17 17 17 / 93%);">
              <div style="display: flex; justify-content: center; align-items: center; width:100%; height: 100%;">
                <div class="info-box" style="width: 70%; padding: 1em;" data-markdown>
                  Using technical terms on services (like `emit`) is sometimes needed. Do not fight it. ü§ì
                </div>
              </div>
              
            </div>
            
              
               
          
  
          </section>
        </section>
        


        <!-- *************************************************************************** -->
        <!-- *************************************************************************** -->
        <!-- *************************************************************************** -->
        <!-- *************************************************************************** -->
        <section data-info="My Approach to Services">
          <section>
            <h2>My Approach to Unit-Tests</h2>
            (Angular Service Tests)
          </section>

          <section data-auto-animate>
            <h3>Preparation</h3>
          </section>
          <section data-auto-animate>
            <h3>Preparation</h3>
            <ul>
              <li>Each public function (API) goes into their own describe block.</li>
              <li class="fragment">Layout the general expectations using <code>test.todo()</code>.
                <ul>
                  <br>
                    <li class="fragment">Sad Path<small><sup>*</sup></small>
                      <small style="display: block;">
                        <ul>
                          <li>Developer Task, think about when should my call should not work.</li>
                          <li>We always do this, even without unit tests.</li>
                        </ul>
                      </small>
                      <br>
                      
                    </li>
                    <li class="fragment">Happy Path
                      <small style="display: block;">
                        <ul>
                          <li>The requirements of the task (Jira ticket?).</li>
                        </ul>
                    </small>
                    </li>
                  <br>

                </ul>
              </li>
              <li class="fragment">Group tests with the same environment(s).</li>
            </ul>
            <br>
            <br>
            <br>
              
            <small style="display: block; text-align: right;" class="fragment">
                <div>(*) Some people like to start with the happy path.</div>
                <!-- <div>(**) Some people does not like to group similar requirements on before each.</div> -->
            </small>
              
          </section>

          <section data-auto-animate="">
            <h3>Preparation</h3>
            <div data-markdown>
              ```typescript []
              describe('My Service', () => {
  
                describe('#saveResource', () => {

                  test.todo('throw an error when the resource does not have any id');
                  test.todo('return false if the resource was already saved');
  
                  describe('resource with correct form', () => {

                    test.todo('returns true');
                    test.todo('saves the resource in backend');

                  });
                  
                });
  
              });
              ```               
            </div>

          </section>

          <section data-auto-animate>
            <h3>Implementation</h3>
            <ul>
              <li>Define the test code that makes your first <code>test.todo()</code> fail.</li>
              <li>Write the implementation code until your test pass.</li>
              <li>Repeat üîÅ</li>
            </ul>
            <br>
            <br>
            
            <div class="fragment">Refactor??</div>
          </section>

          <section data-auto-animate>
            <h3>Test Code</h3>
            <div class="no-max-height-code" data-markdown>
              ```typescript [3-18]
              describe('My Service', () => {
  
                let service: MyService;
  
                beforeEach(() => {
                  service = new MyService();
                });
  
                describe('#saveResource', () => {
  
                  test('throw an error when the resource does not have any id', () => {
                    const myResource: Resource = {
                      name: 'Hello'
                    }
  
                    expect(() => service.saveResource(myResource)).toThrow();
                  });
  
                  test.todo('return false if the resource was already saved');
  
                  describe('resource with correct form', () => {
                    test.todo('returns true');
                    test.todo('saves the resource in backend');
                  });
                  
                });
  
              })
              ```    
            </div>
                       
          </section>

          <section data-auto-animate>
            <h3>Production Code</h3>
            <div data-markdown>
            ```typescript [7-14]
            @Injectable({
              providedIn: 'root',
            })
            export class SharedDebuggingService {

              public readonly saveResource(resource: Resource){
                /*
                  * As example here resource has an optional id.
                  * If the id where not optional, this should not be tested
                  * because typescript will complain for us
                  */
                if(!resource.id) {
                  throw new Error('No Id was found')
                }
              }

            }
            ```         
          </div>      
          </section>


          <section>
            <h3>Implementation (part 2)</h3>
            <ul>
              <li>Same mock configurations are defined together on <code>beforeEach()</code>.</li>
              <li>Group environment details on function with descriptive names<small><sup>*</sup></small>.</li>
            </ul>
            <br><br>

              <small style="display: block; text-align: right;" class="fragment">
                <div>
                  * Some people does not like to group environments/requirements on <code class="inline">beforeEach()</code>.
                </div>

            </small>
            <aside class="notes">
              group environments/requirements require the developer to know about how the class works. Cognitive load.
            </aside>
          </section>

          <section >
            <div data-markdown class="no-max-height-code">
              ```typescript []
              describe('My Service', () => {
  
                describe('#loadValueFromBackend', () => {
  
                  describe('loading when the service is initialized', () => {
                    const validToken = 'I Am valid ü§ì';
  
  
                    function initializeService(): void {
                      service.start();
                      service.register('I do not know, something here');
                    }
  
                    beforeEach(() => {
                      when(SomeServiceProviderMock.getToken()).thenReturn(validToken);
                    });
  
                    test('loads the responseFromBackEnd', () => {
                      // Arrange
                      initializeService(); // Or the full function
  
                      // Act
                      service.loadValueFromBackend();
  
                      // Assert
                      expect(service.getValue().token).toBe(validToken)
                    });
                  });
                  
                });
  
              }),
              ```  
            </div>
                         
          </section>
        </section>

        <section data-info="Hands on! Test Cache Service">
          <h2>Hands on 1!</h2>
          <div data-markdown>
            Let's try to test our `CacheService`
          </div>

          <div data-markdown>
            optional: `EnvironmentService`
          </div>
        </section>

        <section data-info="Async/FakeAsync">
          <section><h2>Async/FakeAsync</h2></section>
          <section  data-auto-animate>
            <h3>Async/FakeAsync</h3>
            <div data-markdown>
              ```typescript []
              export class MyService {

                private currentValue$$ = new BehaviorSubject(0)
                currentValue$ = this.currentValue$$.pipe(debounceTime(100));

                setValue(value: number){
                  this.currentValue$$.next(value);
                }

              }
              ```
            </div>
            </section>
            <section  data-auto-animate>
              <h3>Async/FakeAsync</h3>
            <div data-markdown>
              ```typescript [|1-8|9-13|15|17-19]
              test('#setValue updates the current value to our observers', fakeAsync(() => {
                const subscription = new Subscription();
                const service = new MyService();
                const wantedValue = 19;
                let currentValue;
                subscription.add(
                  service.currentValue$.subscribe(value => currentValue = value)
                );
                expect(currentValue).toBe(undefined); // the subscription did no run
                tick();
                expect(currentValue).toBe(undefined); // the subscription still not runs
                tick(100); // Run time by 100 ms
                expect(currentValue).toBe(0); // The subscription was called once!

                service.setValue(wantedValue);

                expect(currentValue).toBe(0); // The new value is not yet emit
                tick(100); // Run time by 100 ms
                expect(currentValue).toBe(wantedValue);// The new value is there!

                subscription.unsubscribe()
              }));
              ```
            </div>
          </section>
        
          <section data-auto-animate>
            <h3>Async/FakeAsync</h3>

            <div class="wrong-box">
              <h4>This tests passes, but it does not test anything</h4>
              <div data-markdown>
                ```typescript [|10]
                test('#setValue updates the current value to our observers', () => {
                  const subscription = new Subscription();
                  const service = new MyService();
                  const wantedValue = 19;
                  
                  service.setValue(wantedValue);
                
                  subscription.add(
                    service.currentValue$.subscribe(value => {
                      expect(value).toBe(wantedValue); // this is never called
                    })
                  );
                });
                ```
              </div>
            </div>

            <br><br>
            <div class="fragment">
              <small>Tip: You can use <code class="inline">expect.assertions(n)</code> to specify that your test has to call <code class="inline">n</code> assertions</small>
            </div>
          </section>
        </section>

        <section data-info="Test/Mocking environment">
          <section data-auto-animate="">
            <h2>Test/Mocking Environment</h2>
            <p>As the "subjects under tests" become more complex so do our tests</p>
          </section>

          <section data-auto-animate data-info="mocking items list">
            <h3>Test/Mocking Environment</h3>
            <ul>
              <li>Use an "can be created" test to verify your initial mocks work.</li>
              <li class="fragment">If you need to test observables, group them in a <code class="inline">Subscription</code> object.</li>
              <li class="fragment">Use an global <code class="inline">beforeEach()</code> to define needed mock call values.
                <ul>
                  <li class="fragment">Initialize subscription objects. </li>
                  <li class="fragment">Define Mocks default return values.<br>
                    <small>ie: <code class="inline">when(MyMock.myObservable$).thenReturn(aLocalSubject$$)</code></small></li>
                </ul>
              </li>
              
              <li class="fragment">Use an global <code class="inline">afterEach()</code> for clean up.
                <ul>
                  <li class="fragment">Unsubscribe from subscription objects.</li>
                  <li class="fragment">Reset your mocks (<code class="inline">reset(MyMock1, MyMock2...)</code> ).</li>
                  <li class="fragment">If your subject under test implements the <code class="inline">ngOnDestroy</code> life cycle, call it.</li>
                  
                </ul>
            </li>
            <li class="fragment">use Pascal-Case names for ts-mockito mock objects <br>
              <small> <code class="inline">const SomeServiceMock = mock(SomeService)</code></small></li>
            </ul>
          </section>

          <section data-auto-animate data-info="mocking example list">
            <h3>Test/Mocking Environment</h3>
            <div data-markdown class="no-max-height-code">
              ```typescript []
                describe('MyService', () => {
                  const projectID = 6;
                  const SomeServiceMock = mock(SomeService);
                  const SpecialServiceMock = mock(SpecialService);
                  const MOCKS = [SomeServiceMock, SpecialServiceMock];

                  const localSubject$$ = new Subject();

                  let service: MyService;

                  beforeEach(() => {
                    when(SpecialServiceMock.anObservableThatIsMappedInMyService$)
                      .thenReturn(localSubject$$);
                    
                    when(SpecialServiceMock.getById(anything()))
                      .thenReturn({hello: 'I am something'});
                    when(SpecialServiceMock.getById(5))
                      .thenReturn({hello: 'I am 5'});

                    service = new MyService(
                      instance(SomeServiceMock), 
                      instance(SpecialServiceMock)
                    );
                  });

                  afterEach(() => {
                    service.ngOnDestroy();
                    reset(...MOCKS);
                  });

                  test('should be created', () => {
                    expect(service).toBeDefined();
                  });

                });
              ```
            </div>
          </section>

          <section data-auto-animate data-info="helper functions example without helper">
            <h4>Tip: Use helper functions to reduce noise and centralize stubs</h4>
            <div class="fragment" data-markdown>
              ```
              interface MyNeededObject {
                value: number;
                name: string
              }
              ```
            </div>

            <div class="fragment" data-markdown>
              ```
              export class MyService {
                doSomething(value: MyNeededObject){}
              }
              ```
            </div>
            
            <div class="fragment" data-markdown>
              ```typescript [|2-5,12-15|3,13]
              test('do something does something', () => {
                const value: MyNeededObject = {
                  value: 4;
                  name: 'Hello'
                };

                service.doSomething(value);
                // expect()
              });

              test('do something does not do something when value is negative', () => {
                const value: MyNeededObject = {
                  value: -1;
                  name: 'Hello'
                };

                service.doSomething(value);
                // expect()
              });
              ```
            </div>

          </section>
          
          <section data-auto-animate data-info="helper functions example WITH helper">
            <h4>Tip: Use helper functions to reduce noise and centralize stubs</h4>
            <div data-markdown>
              ```
              interface MyNeededObject {
                value: number;
                name: string
              }
              ```
            </div>

            <div data-markdown>
              ```
              export class MyService {
                doSomething(value: MyNeededObject){}
              }
              ```
            </div>
            
            <div class="fragment" data-markdown>
              <script type="text/template">
              ```typescript []
              let instances = 0;
              export getMyNeededObjectStub(config?: Partial<MyNeededObject>): MyNeededObject {
                instances++;
                return {
                  value: instances,
                  name: `name for ${instances}`,
                  ...config // replace the default values with our config if given
                }
              }
              ```
            </script>
            </div>

            <div class="fragment" data-markdown>
              ```typescript []
              test('do something does not do something when value is negative', () => {
                const value = getMyNeededObjectStub({value: -1})
                service.doSomething(value);
                //expect()
              });

              test('do something does something', () => {
                const value = getMyNeededObjectStub();
                service.doSomething(value);
                // expect()
              });
              ```
            </div>
          </section>
        </section>

        <!-- *************************************************************************** -->
        <!-- *************************************************************************** -->
        <!-- *************************************************************************** -->
        <!-- *************************************************************************** -->
        <section data-info="component testing">
          <section data-auto-animate="">
            <h2>My Approach to Component Testing</h2>
            <small>(Angular Dummy/Presentation Components)</small>
          </section>
            
          <section data-auto-animate>
            <h3>Preparation</h3>
          </section>
          <section data-auto-animate>
            <h3>Preparation</h3>
            <ul>
              <li>The same rules about the happy/sad path of services testing are to be follow here. </li>
              <li>The same rules about the group of same environments are to be follow here. </li>
              <li>Try to reproduce the same steps the end user (or your component consumer) will do.</li>
            </ul>
            <br>
            <br>
            <br>
              
            <small style="display: block; text-align: right;" class="fragment">
                <div>
                  (*) With component testing, you will need to add some HTML content so you use them in your tests.
                </div>
            </small>
              
          </section>

          <section>
            <div class="info-box">
              Let us open the Select component in UI Lib üßëüèΩ‚Äçüíª
            </div>
          </section>
        </section>

        <section>
          
          <section data-auto-animate><h2>Common Pitfalls</h2></section>

          <section data-auto-animate>
            <h2>Common Pitfalls</h2>
          <ul>
            <li>Do not use Slashes on your test names, it will break debugging.</li>
            <li class="fragment">Sometimes you have assure your environment is correct using <code class="inline">expect()</code> before your test it self. <br>
              <div data-markdown  class="fragment">
                ```typescript
                expect(myService.initialize()).toBe(false); // Correct Environment

                myService.act();

                expect(myService.get()).toBe(true); // What I wanted
                ```
              </div>
            </li>
            <li class="fragment">If you are using Services or components that render content outside your component (like popovers), you have to manually clean them! 
              <br>
              <small  class="fragment"> <br>Tip: 
                <code class="inline language-typescript">
                  document.getElementsByTagName('body')[0].innerHTML = ''
                </code>
                </small>
                <br><br>
            </li>
          </ul>
          </section>

          <section data-auto-animate>
            <h2>Common Pitfalls</h2>
            <ul>
              <li >You can get False Positive (passing) tests when you forget to write <code class="inline language-typescript">once()</code> in a <call class="inline">verify()</call> call.
                <br>
                <small  class="fragment">
                  <br>
                  <code class="inline language-typescript">verify(SomethingMock.someFunction())</code> 
                  üëàüèº missing <code class="inline">once()</code> / <code class="inline">twice()</code>/etc!!
                </small>
                <br><br>
              </li>
              <li class="fragment">You have to find the button inside components that trigger some `clicked` events.
                <small class="fragment">
                  <br>
                  <code class="inline language-typescript">screen.getByTestId('some-component-test-id').querySelector('button')</code> 
                  <br><br>
                </small>
              </li>
              <li class="fragment">Feel free to add the ones you will <strong>definitively</strong> find here.</li>
            </ul>
          </section>
        </section>

        <section data-info="Hands on! Test Cache Service">
          <h2>Hands on 2!</h2>

          <div>
            Let's try to test our <code class="inline">ChipComponent</code> <br>
            <small>Notice: <code class="inline">ChipComponent</code> has to be used as a child of <code class="inline">ChipGroupComponent</code></small>üòâ
          </div>

          <div data-markdown>
            optional: Continue the `SelectComponent` tests
          </div>

        </section>

        <section>
          <h2>The End</h2>
        </section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/zoom/zoom.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
			});
		</script>
	</body>
</html>
